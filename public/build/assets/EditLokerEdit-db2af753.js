import{q as x,r as d,j as a,d as k,b as g,y as b}from"./app-0531c79f.js";import{u as N}from"./index.esm-e5d92819.js";import{Q as v}from"./QuillEditor-e1eb7f47.js";const T=()=>{const{register:c,handleSubmit:f,formState:{errors:i}}=N(),{props:p}=x(),{md_loker:r}=p,[l,t]=d.useState({password:"meong",id:r.id,pekerjaan:r.pekerjaan,perusahaan:r.perusahaan,jenis_pekerjaan:r.jenis_pekerjaan,batas_lamaran:r.batas_lamaran,isi_konten:r.deskripsi,deskripsi:r.isi_konten}),m={jenis_pekerjaan:""};d.useState(m);const o=s=>{const e=s.target.id,n=s.target.value;t(j=>({...j,[e]:n}))},u=s=>{t(n=>({...n,deskripsi:s}));let e=value;key==="batas_lamaran"&&(e=new Date(value).toISOString().split("T")[0]),t(n=>({...n,[key]:e}))};async function h(s){s.preventDefault();try{const e=await g.post("/table/update_loker",l);t({password:"meong",pekerjaan:"",perusahaan:"",jenis_pekerjaan:"",batas_lamaran:"",isi_konten:""}),b.get("/dashboard/lowongan_pekerjaan")}catch(e){e.response?(console.error("Error sending data:",e.response.data),alert(e.response.data.message)):(console.error("Error sending data:",e),alert("Terjadi kesalahan saat mengirim data."))}}return a.jsx("div",{className:"bg-BgTako py-16 text-DarkTako font-inter",children:a.jsxs("div",{className:"container mx-auto bg-white p-8 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("img",{src:"/images/plus.svg",className:"scale-100",alt:""}),a.jsx("h1",{className:"font-bold text-2xl",children:"Tambah Baru"})]}),a.jsxs("form",{onSubmit:h,className:" pt-8",children:[a.jsxs("div",{className:"flex gap-8",children:[a.jsxs("div",{className:"w-full",children:[a.jsx("h1",{className:"pb-2",children:"Pekerjaan"}),a.jsx("input",{...c("pekerjaan",{required:!0}),className:"w-full p-2 border-grey border-opacity-30 rounded",placeholder:"Masukkan Pekerjaan",id:"pekerjaan",value:l.pekerjaan,onChange:o})]}),a.jsxs("div",{className:"w-full",children:[a.jsx("h1",{className:"pb-2",children:"Perusahaan"}),a.jsx("input",{className:"w-full p-2 border-grey border-opacity-30 rounded",placeholder:"Meong",id:"perusahaan",value:l.perusahaan,onChange:o})]})]}),a.jsxs("div",{className:"flex gap-8 py-4",children:[a.jsxs("div",{className:"w-full",children:[a.jsx("h1",{className:"pb-2",children:"Jenis Pekerjaan"}),a.jsxs("select",{value:l.jenis_pekerjaan,onChange:s=>{const e=s.target.value;t(n=>({...n,jenis_pekerjaan:e}))},className:"w-full p-2 border-grey border-opacity-30 rounded cursor-pointer",placeholder:"Pilih Program Anda",children:[a.jsx("option",{value:"internship",children:"Internship"}),a.jsx("option",{value:"profesional",children:"Profesional"})]}),i.jenis_pekerjaan&&a.jsx("span",{className:"text-RedTako",children:"Pekerjaan jangan sampai kosong"})]}),a.jsxs("div",{className:"w-full relative",children:[a.jsx("h1",{className:"pb-2",children:"Batas Lamaran"}),a.jsx("div",{className:"absolute items-center opacity-75 right-2 bottom-1 scale-75 pointer-events-none",children:a.jsx("img",{src:"/images/calendar.svg",alt:""})}),a.jsx("input",{type:"date",className:"w-full p-2 border-grey border-opacity-30 rounded",id:"batas_lamaran",value:l.batas_lamaran,onChange:o}),i.batas_lamaran&&a.jsx("span",{className:"text-RedTako",children:"Batas Lamaran tidak boleh kosong"})]})]}),a.jsxs("div",{className:"w-full",children:[a.jsx("h1",{className:"pb-2",children:"Deskripsi"}),a.jsx("input",{className:"w-full p-2 border-grey border-opacity-30 rounded",placeholder:"Masukkan Deskripsi Anda",id:"isi_konten",value:l.isi_konten,onChange:o}),i.isi_konten&&a.jsx("span",{className:"text-RedTako",children:"Deskripsi jangan sampai kosong"})]}),a.jsxs("div",{className:"w-full pt-4",children:[a.jsx("h1",{className:"pb-2",children:"Isi Konten"}),a.jsx(v,{value:l.deskripsi,onChange:u}),i.deskripsi&&a.jsx("span",{className:"text-RedTako",children:"Isi Konten jangan sampai kosong"})]}),a.jsxs("div",{className:"pt-8 flex gap-4",children:[a.jsx("button",{type:"submit",className:"bg-BlueTako text-white py-2 px-4 rounded-lg",children:"Simpan"}),a.jsx("button",{type:"submit",className:"bg-RedTako text-white py-2 px-4 rounded-lg",children:a.jsx(k,{href:"/dashboard/lowongan_pekerjaan",children:"Batal"})})]})]})]})})};export{T as default};
